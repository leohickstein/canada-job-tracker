/* Tailwind layers (required) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Design tokens + base
   ========================= */
:root{
  --bg: #f7f9fc;
  --surface: rgba(255,255,255,.70);
  --ink: #0f172a;
  --muted: #64748b;
  --border: rgba(100,116,139,.25);
  --accent: #6366f1;
  --accent-ink: #4338ca;
  --success: #10b981;
  --danger: #ef4444;
}
.dark:root{
  --bg: #0b1220;
  --surface: rgba(2,6,23,.60);
  --ink: #e2e8f0;
  --muted: #94a3b8;
  --border: rgba(51,65,85,.60);
  --accent: #818cf8;
  --accent-ink: #c7d2fe;
}
html, body, #root { height: 100%; }
body { background: var(--bg); color: var(--ink); }

.hero-glow{
  background:
    radial-gradient(1200px 400px at 50% -10%, rgba(99,102,241,.25), transparent 60%),
    radial-gradient(800px 300px at 85% 0%, rgba(56,189,248,.22), transparent 60%),
    radial-gradient(900px 300px at 10% 0%, rgba(236,72,153,.18), transparent 60%);
  mask-image: linear-gradient(to bottom, black, transparent);
  -webkit-mask-image: linear-gradient(to bottom, black, transparent);
}

/* Components */
.card { @apply border rounded-2xl shadow-lg; border-color: var(--border); background: var(--surface); }
.glass { backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); }

.badge { @apply inline-flex items-center gap-1 rounded-full text-xs px-2 py-0.5; border: 1px solid var(--border); background: rgba(255,255,255,.5); color: var(--muted); }
.dark .badge { background: rgba(2,6,23,.55); }
.badge-new { background: rgba(16,185,129,.15); color:#059669; border-color: rgba(16,185,129,.30); }

.input { @apply h-9 rounded-lg border px-3; border-color: var(--border); background: rgba(255,255,255,.65); color: var(--ink); }
.dark .input { background: rgba(2,6,23,.55); }

.area { @apply rounded-xl border px-3 py-2; min-height: 88px; border-color: var(--border); background: rgba(255,255,255,.65); color: var(--ink); }

.btn { @apply inline-flex items-center justify-center font-semibold rounded-xl border px-3 h-10; border-color: var(--border); background: rgba(255,255,255,.60); color: var(--ink); }
.btn:hover { background: rgba(255,255,255,.75); }
.dark .btn { background: rgba(2,6,23,.55); }
.dark .btn:hover { background: rgba(2,6,23,.70); }
.btn-s { @apply h-9 rounded-lg px-3; }
.btn-primary { @apply text-white; background: var(--accent); border-color: transparent; }
.btn-ghost { background: transparent; }
.btn-ghost:hover { background: rgba(99,102,241,.12); }

.icon-btn { @apply grid place-items-center w-8 h-8 rounded-md border; border-color: var(--border); background: rgba(255,255,255,.50); }
.dark .icon-btn { background: rgba(2,6,23,.50); }
.icon-btn:hover { background: rgba(255,255,255,.70); }
.dark .icon-btn:hover { background: rgba(2,6,23,.70); }
.icon-btn-active { color: var(--accent); border-color: var(--accent); background: rgba(99,102,241,.12); }

.tabs-xl { @apply flex gap-2 p-1 rounded-full border; border-color: var(--border); background: rgba(255,255,255,.50); }
.dark .tabs-xl { background: rgba(2,6,23,.50); }
.tab { @apply px-4 py-2 rounded-full font-semibold text-sm text-slate-800 dark:text-slate-100; }
.tab:hover { @apply bg-white/60 dark:bg-slate-900/60; }
.tab-active { background: rgba(99,102,241,.18); color: var(--accent-ink); }

.sidebar-sticky { position: sticky; top: 72px; }
.card-actions { height: 48px; display: flex; align-items: center; gap: .5rem; }
.meta { color: var(--muted); font-size: 12px; }

/* Clamp utilities */
.clamp-2 { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.clamp-3 { display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.unclamp { display:block; -webkit-line-clamp:unset; -webkit-box-orient:unset; overflow:visible; }

/* Density (optional) */
body.density-compact { font-size: 13px; }
body.density-compact .btn { height: 36px; }
body.density-compact .btn-s { height: 32px; }
body.density-compact .input { height: 32px; }
body.density-compact .card { border-radius: 14px; }

/* Switch (Light/Dark) */
.switch { @apply inline-flex items-center h-8 rounded-full border px-3 gap-2; border-color: var(--border); background: rgba(255,255,255,.60); }
.dark .switch { background: rgba(2,6,23,.55); }
.switch input { width:0; height:0; opacity:0; }
.switch .slider { @apply text-xs text-slate-500 dark:text-slate-400; }

/* Inline “… more” fade pill */
.desc-wrap { position: relative; }
.desc-wrap .fade{
  position: absolute; left: 0; right: 0; bottom: 0; height: 2.25rem;
  pointer-events: none; z-index: 0;
  background: linear-gradient(to bottom, rgba(255,255,255,0), var(--surface));
}
.dark .desc-wrap .fade{
  background: linear-gradient(to bottom, rgba(2,6,23,0), var(--surface));
}
.more-pill{
  position: absolute; right: .25rem; bottom: .25rem; z-index: 1;
  font-size: 12px; line-height: 1; padding: .25rem .5rem;
  border-radius: 9999px; border: 1px solid var(--border);
  background: var(--surface); color: var(--accent-ink); font-weight: 600;
}
.more-pill:hover { filter: brightness(1.03); }

/* Strong filter panel visuals (explicit, bright border) */
.filter-panel{
  background: rgba(255,255,255,.96);
  border-color: rgba(255,255,255,.9);
  border-width: 2px;
  box-shadow: 0 10px 30px rgba(31,38,135,0.12);
}
.dark .filter-panel{
  background: rgba(2,6,23,.78);
  border-color: rgba(148,163,184,.65);
  border-width: 2px;
}

/* Fallback: hide non-primary buttons in card actions (old UI) */
.card .btn:not(.btn-primary):not(.btn-ghost){ display: none; }
